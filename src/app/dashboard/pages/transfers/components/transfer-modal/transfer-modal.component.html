<form nz-form [formGroup]="transferForm" nzLayout="vertical" novalidate>
  <nz-form-item>
    <app-form-label>
      <nz-form-label nzFor="wallet" nzRequired
        >Choose recipient wallet address</nz-form-label
      >
    </app-form-label>
    <nz-form-control
      nzSpan="12"
      id="wallet"
      nzErrorTip="Please select a wallet address!"
      nzHasFeedback
    >
      <app-wallet-select
        [filter]="filterWallets"
        [ownerPublicKey]="selectedProfilePubKey | async"
        formControlName="wallet">
      </app-wallet-select>
    </nz-form-control>
  </nz-form-item>

  <app-nft-ids-form formControlName="nftIds"></app-nft-ids-form>
</form>

<ng-template #modalTitleTpl>
  <app-modal-header>
    <nz-space>
      <nz-space-item>
        <h4 nz-typography nzType="secondary">
          Transfer assets
        </h4>
      </nz-space-item>
      <nz-space-item>
        <app-popover-helper
          placement="right"
          [popoverContent]="modalTitleHelperTpl"
        ></app-popover-helper>
      </nz-space-item>
    </nz-space>
  </app-modal-header>
  <ng-template #modalTitleHelperTpl>
    Initiate a transfer between wallets
  </ng-template>
</ng-template>

<div *nzModalFooter>
  <button
    nz-button
    nzType="primary"
    [nzLoading]="isLoading$ | async"
    [disabled]="(isLoading$ | async) || !transferForm.valid"
    (click)="transfer($event)"
  >
    Transfer
  </button>
</div>
